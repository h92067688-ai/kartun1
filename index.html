<!DOCTYPE html>
<html lang="id">
<head>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>KARTUN Reunion – Reconnect & Relive Memories</title>
<style>
  :root { --bg:#0b0f19; --fg:#ffffff; --accent:#00a0ff; }
  * { box-sizing:border-box; }
  body { margin:0; font-family:Montserrat, Poppins, Arial, Helvetica, sans-serif; background:var(--bg); color:var(--fg); }
  header { padding:20px; text-align:center; border-bottom:1px solid rgba(255,255,255,.08); }
  header img.logo { width:56px; height:56px; border-radius:10px; object-fit:cover; background:#000; }
  header h1 { margin:6px 0 2px; font-size:18px; letter-spacing:.5px; font-weight:700; }
  header p { margin:0; opacity:.75; font-size:13px; }
  .wrap { max-width:960px; margin:0 auto; padding:20px; }
  .slide { display:none; text-align:center; padding:26px; }
    .slide.cover { 
      display: none;
      min-height: 100vh;
      align-items: center;
      justify-content: center;
    }
    .slide.cover.active {
      display: flex;
    }
    .cover .inner{ transform: translateY(6vh);
      text-align:center;
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:12px;
    }
    .cover h1{
      margin:0;
      font-size:34px;
      letter-spacing:2px;
    }
    .cover .tagline{
      margin:0;
      font-size:18px;
      opacity:.9;
      font-weight:500;
    }
    .cover img.logo{
      width:160px;height:160px;border-radius:18px;object-fit:cover;background:#000;
      box-shadow:0 10px 30px rgba(0,0,0,.45);
      margin:6px 0 4px 0;
    }
    .cover .invitation{
      margin-top:6px;
      font-size:14px;
      letter-spacing:2px;
      opacity:.85;
      text-transform:uppercase;
    }
  .slide.active { display:block; animation:fade .35s ease; }
  @keyframes fade { from { opacity:0; transform:translateY(6px); } to { opacity:1; transform:none; } }
  .btn { background:var(--accent); color:#00121f; border:none; padding:10px 16px; border-radius:10px; font-weight:700; cursor:pointer; margin:6px; }
  .btn.ghost { background:transparent; color:var(--fg); border:1px solid rgba(255,255,255,.2); }
  .chips { display:flex; gap:12px; flex-wrap:wrap; justify-content:center; margin-top:10px; }
  .chip { background:rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.1); padding:10px 12px; border-radius:10px; min-width:200px; }
  footer { display:flex; justify-content:space-between; align-items:center; gap:12px; padding:12px 20px; border-top:1px solid rgba(255,255,255,.08); position:sticky; bottom:0; background:rgba(0,0,0,.45); backdrop-filter: blur(6px); }
  .pager { opacity:.8; font-size:13px; }
  .media { margin: 10px auto; max-width: 640px; }
  iframe { width:100%; height:300px; border:0; border-radius:12px; }
  img.qr { width:210px; height:210px; border-radius:10px; background:#fff; padding:8px; }
  .note { opacity:.8; font-size:13px; margin-top:6px; }

  /* Hide global header when on the cover slide */
  body.is-cover header { display: none; }
  /* Animated Enter button */
  .btn.pulse { position:relative; }
  .btn.pulse::after{
    content:''; position:absolute; inset:-4px; border-radius:12px; border:2px solid rgba(0,160,255,.3);
    animation:pulse 1.6s ease-out infinite;
  }
  @keyframes pulse { from{ opacity:1; transform:scale(1);} to{ opacity:0; transform:scale(1.15);} }


  /* Header visibility control to avoid flash */
  header { display:none; }
  body:not(.is-cover) header { display:block; }

  /* Cover sizing tweaks for mobile */
  .cover h1 { font-size:34px; letter-spacing:1.5px; }
  .cover .tagline { font-size:18px; }
  .cover img.logo { width:160px; height:160px; }

  @media (max-width: 480px){
    .cover .inner{ transform: translateY(8vh); }
    .cover h1 { font-size:26px; letter-spacing:1px; }
    .cover .tagline { font-size:14px; }
    .cover img.logo { width:120px; height:120px; }
    header h1 { font-size:16px; }
    header p { font-size:12px; }
  }

</style>
</head>
<body class="is-cover">
  <header>
    <img class="logo" src="https://www.dropbox.com/scl/fi/ivo8pggee9oop19eznn3j/317783735_141948491964138_7711250826199075559_n.jpg?rlkey=odrq6l1k80viq83hn81c961il&st=li51grkm&raw=1" alt="Logo KARTUN"/>
    <h1>KARTUN Reunion 2025</h1>
    <p>Reconnect & Relive Memories</p>
  </header>

  <div class="wrap" id="slides">
    <!-- Cover Slide -->
    <section class="slide cover active" data-slide="0">
      <div class="inner">
        <h1>KARTUN REUNION</h1>
        <p class="tagline">Reconnect & Relive memories</p>
        <img class="logo" src="https://www.dropbox.com/scl/fi/ivo8pggee9oop19eznn3j/317783735_141948491964138_7711250826199075559_n.jpg?rlkey=odrq6l1k80viq83hn81c961il&st=li51grkm&raw=1" alt="Logo KARTUN">
        <div class="invitation">Invitation</div>
        <button class="btn" id="enter" class="pulse">Enter</button>
      </div>
    </section>

    <section class="slide">
      <h2>Selamat Datang</h2>
      <p>Hari ini kita berkumpul, bernostalgia, dan menguatkan kembali persaudaraan Karang Taruna KARTUN.</p>
      <div class="chips">
        <div class="chip"><strong>Hari/Tanggal</strong><br>Sabtu, 31 Agustus 2025</div>
        <div class="chip"><strong>Waktu</strong><br>15.00 WIB – selesai</div>
        <div class="chip"><strong>Tempat</strong><br>Villa Garut</div>
      </div>
      <button class="btn" id="toDetail">Lihat Detail</button>
    </section>

    <section class="slide">
      <h2>Rundown Singkat</h2>
      <div class="chips">
        <div class="chip"><strong>15.00</strong><br>Kedatangan & Registrasi</div>
        <div class="chip"><strong>15.30</strong><br>Sambutan & Sharing</div>
        <div class="chip"><strong>17.00</strong><br>Games & Hiburan</div>
        <div class="chip"><strong>18.00</strong><br>Makan Bersama</div>
        <div class="chip"><strong>20.00</strong><br>Penutupan & Dokumentasi</div>
      </div>
      <button class="btn ghost" id="back1">Kembali</button>
      <button class="btn" id="toMap">Lokasi</button>
    </section>

    <section class="slide">
      <h2>Lokasi & Navigasi</h2>
      <p>Scan QR atau buka peta untuk navigasi.</p>
      <img class="qr" src="qr_maps.png" alt="QR Code Lokasi">
      <div class="media">
        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3952.0195180465833!2d110.36948987428954!3d-7.878504692127836!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2e7a57f2186b3a0d%3A0x8a82f7b0b1b6c3e2!2sBalai%20Desa!5e0!3m2!1sid!2sid!4v1691213525832!5m2!1sid!2sid" loading="lazy"></iframe>
      </div>
      <button class="btn ghost" id="back2">Kembali</button>
      <button class="btn" id="toRSVP">RSVP</button>
    </section>

    <section class="slide">
      <h2>Konfirmasi Kehadiran</h2>
      <p>Silakan RSVP agar panitia bisa menyiapkan tempat dan konsumsi dengan baik.</p>
      <div class="chips">
        <a class="btn" href="https://forms.gle/dummyRSVP" target="_blank" rel="noopener">Isi Form RSVP</a>
        <a class="btn ghost" href="https://wa.me/6281234567890" target="_blank" rel="noopener">WA Panitia</a>
      </div>
      <button class="btn ghost" id="back3">Kembali</button>
    </section>
  </div>

  <footer>
    <div>
      <button class="btn ghost" id="prev">Prev</button>
      <button class="btn ghost" id="next">Next</button>
      <span class="pager" id="pager">Slide 1/5</span>
    </div>
    <div>
      <button class="btn" id="play">Play Music</button>
      <button class="btn ghost" id="pause">Pause</button>
    </div>
  </footer>

  <audio id="bg" loop preload="auto" crossorigin="anonymous">
    <source src="https://www.dropbox.com/scl/fi/3rqoim2sdfk5u1ufkl1ez/Reuni.mp3?rlkey=nvdewcq1csguyg14c24kf34jw&st=hg3jfhbq&raw=1" type="audio/mpeg">
  </audio>

  
  <script>
    document.addEventListener('DOMContentLoaded', function(){
      const slides = Array.from(document.querySelectorAll('.slide'));
      const pager = document.getElementById('pager');
      let idx = 0;

      function show(n){
        const total = slides.length;
        idx = (n + total) % total;
        slides.forEach((s, i) => s.classList.toggle('active', i === idx));
        if (pager) pager.textContent = `Slide ${idx+1}/${total}`;
        // hide header on cover
        if (idx === 0) document.body.classList.add('is-cover');
        else document.body.classList.remove('is-cover');
      }
      // expose for any inline calls
      window.show = show;

      // Attach listeners safely
      const byId = id => document.getElementById(id);
      const safeOn = (id, fn) => { const el = byId(id); if (el) el.addEventListener('click', fn); };

      safeOn('next', () => show(idx + 1));
      safeOn('prev', () => show(idx - 1));
      safeOn('enter', async () => {
        show(1);
        const bg = byId('bg');
        const playBtn = byId('play');
        try {
          if (bg) {
            bg.volume = 0.0;
            await bg.play();
            let v = 0.0;
            const step = 0.05;
            const iv = setInterval(() => {
              v += step;
              if (v >= 1) { v = 1; clearInterval(iv); }
              bg.volume = v;
            }, 100);
          }
          if (playBtn) playBtn.style.display = 'none';
        } catch(e) {
          // fallback: if autoplay blocked, keep Play visible
        }
      });
      safeOn('toDetail', () => show(2)); // will no-op if missing
      safeOn('back1', () => show(1));
      safeOn('toMap', () => show(3));
      safeOn('back2', () => show(2));
      safeOn('toRSVP', () => show(4));
      safeOn('back3', () => show(3));

      // Keyboard nav
      document.addEventListener('keydown', e => {
        if (e.key === 'ArrowRight') show(idx + 1);
        if (e.key === 'ArrowLeft') show(idx - 1);
      });

      // Music controls (if present)
      const bg = byId('bg');
      safeOn('play', async () => { try { await bg.play(); } catch(e){} });
      safeOn('pause', () => { if (bg) bg.pause(); });

      // Init
      show(0);
    });
  </script>

</body>
</html>
