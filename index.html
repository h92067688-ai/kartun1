<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>KARTUN Reunion — Reconnect & Relive Memories</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
<style>
  :root { --bg:#0b0f19; --fg:#ffffff; --accent:#00a0ff; --overlay: rgba(0,0,0,.45); }
  * { box-sizing:border-box; }
  body { margin:0; font-family:Montserrat, Arial, Helvetica, sans-serif; background:var(--bg); color:var(--fg); }
  a { color:inherit; text-decoration:none; }

  header { padding:14px; text-align:center; border-bottom:1px solid rgba(255,255,255,.08); }
  header img.logo { width:56px; height:56px; border-radius:999px; object-fit:cover; background:#000; }
  header h1 { margin:6px 0 2px; font-size:18px; letter-spacing:.5px; font-weight:700; }
  header p { margin:0; opacity:.75; font-size:12px; }

  .wrap { max-width:1080px; margin:0 auto; padding:18px; }
  .slide { display:none; text-align:center; padding:26px; border-radius:16px; position:relative; overflow:hidden; }
  .slide.active { display:block; animation:fade .35s ease; }
  .slide .bg { position:absolute; inset:0; background-size:cover; background-position:center; filter:brightness(.9); }
  .slide .shade { position:absolute; inset:0; background:var(--overlay); pointer-events:none; }
  .slide .content { position:relative; z-index:2; }
  @keyframes fade { from { opacity:0; transform:translateY(6px); } to { opacity:1; transform:none; } }

  .btn { background:var(--accent); color:#00121f; border:none; padding:12px 18px; border-radius:12px; font-weight:700; cursor:pointer; margin:6px; }
  .btn.ghost { background:transparent; color:var(--fg); border:1px solid rgba(255,255,255,.25); }

  .chips { display:flex; gap:12px; flex-wrap:wrap; justify-content:center; margin-top:10px; }
  .chip { background:rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.1); padding:10px 12px; border-radius:12px; min-width:200px; }

  footer { display:flex; justify-content:space-between; align-items:center; gap:12px; padding:12px 20px; border-top:1px solid rgba(255,255,255,.08); position:sticky; bottom:0; background:rgba(0,0,0,.45); backdrop-filter: blur(6px); }
  .pager { opacity:.85; font-size:13px; }

  /* COVER */
  .slide.cover { display:none; min-height:100vh; align-items:center; justify-content:center; border-radius:0; }
  .slide.cover.active { display:flex; }
  body.is-cover header, body.is-cover footer { display:none; }
  .cover .bg{ background-image:url('cover.jpg'); background-position:center 28%; }
  .cover .inner{
    text-align:center; display:flex; flex-direction:column; align-items:center;
    gap:6px; transform: translateY(-4vh);
  }
  .cover h1{ margin:0; font-size:clamp(22px,7vw,36px); letter-spacing:1.2px; white-space:nowrap; }
  .cover .tagline{ margin:0; font-size:14px; opacity:.92; font-weight:500; }
  .cover img.logo{ width:120px;height:120px;border-radius:999px;object-fit:cover;background:#000; box-shadow:0 10px 30px rgba(0,0,0,.45); }
  .cover .invitation{ margin-top:6px; font-size:12px; letter-spacing:2px; opacity:.85; text-transform:uppercase; }
  .btn.enter{ position:relative; transform:translateY(6px); font-size:18px; padding:14px 24px; }
  .btn.enter::after{ content:''; position:absolute; inset:-4px; border-radius:14px; border:2px solid rgba(0,160,255,.35); animation:pulse 1.6s ease-out infinite; }
  @keyframes pulse { from{ opacity:1; transform:scale(1);} to{ opacity:0; transform:scale(1.12);} }

  /* Countdown */
  .countdown { display:flex; gap:14px; justify-content:center; flex-wrap:wrap; margin-top:12px; }
  .timebox { min-width:90px; background:rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.12); border-radius:14px; padding:12px; }
  .timebox .num { font-size:26px; font-weight:700; display:inline-block; }
  .timebox .lab { font-size:12px; opacity:.85; letter-spacing:1px; text-transform:uppercase; }
  .countdown .num.flipAnim { animation:flip .5s; }
  @keyframes flip { 0%{transform:rotateX(0)}50%{transform:rotateX(90deg)}100%{transform:rotateX(0)} }

  /* Photo wall */
  .grid { display:grid; grid-template-columns: repeat(3, 1fr); gap:10px; margin-top:12px; }
  .grid img { width:100%; height:120px; object-fit:cover; border-radius:12px; cursor:pointer; }
  @media (max-width:520px){
    .grid { grid-template-columns: repeat(2, 1fr); }
    .grid img { height:110px; }
  }

  /* Reveal text */
  .reveal { opacity:0; transform: translateY(10px); }
  .slide.active .reveal { animation: reveal .55s ease forwards; }
  @keyframes reveal { to { opacity:1; transform:none; } }

  /* Lightbox */
  .lightbox{position:fixed;inset:0;background:rgba(0,0,0,.92);display:none;align-items:center;justify-content:center;z-index:99}
  .lightbox.active{display:flex}
  .lightbox img{max-width:92vw;max-height:86vh;border-radius:12px;transform:scale(.96);opacity:0;animation:zoomIn .25s ease forwards}
  .lightbox .close{position:absolute;top:14px;right:14px;background:rgba(255,255,255,.1);border:1px solid rgba(255,255,255,.25);color:#fff;border-radius:10px;padding:8px 10px;cursor:pointer}
  @keyframes zoomIn { to { transform:scale(1); opacity:1; } }

  /* RSVP + Payment styles */
  .form { max-width: 560px; margin: 12px auto; text-align:left; }
  .form .row { display:flex; gap:12px; }
  .form .row > * { flex:1; }
  .input, .select {
    width:100%; padding:12px 14px; border-radius:12px;
    border:1px solid rgba(255,255,255,.18);
    background:rgba(255,255,255,.06); color:#fff; outline:none;
  }
  .input::placeholder { color:rgba(255,255,255,.6); }
  .form .actions { text-align:center; margin-top:12px; }

  .paybox{
    display:none;
    max-width:640px;
    margin:18px auto 0;
    padding:16px;
    border-radius:16px;
    border:1px solid rgba(255,255,255,.12);
    background:rgba(255,255,255,.04);
    backdrop-filter:saturate(160%) blur(6px);
    box-shadow:0 10px 24px rgba(0,0,0,.25);
    text-align:center;
  }
  .paybox.show{ display:block; }
  .qris,.qr{ width: 180px; height:auto; border-radius:12px; background:#fff; padding:10px; box-shadow:0 8px 24px rgba(0,0,0,.25); }
  @media (min-width:640px){ .qris,.qr{ width: 220px; } }
  .small { font-size:12px; opacity:.8; }

  @media (max-width:560px){
    .form .row { flex-direction:column; }
  }

  /* Quote slide: per-letter animation + tile background */
  .quote .lines{ display:flex; flex-direction:column; gap:10px; align-items:center; text-align:center; }
  .quote .line{ font-style:italic; font-weight:400; font-size:18px; line-height:1.6; opacity:.98; white-space:nowrap; }
  @media (max-width:400px){ .quote .line{ font-size:16px; } }
  @media (min-width:660px){ .quote .line{ font-size:22px; } }
  .quote .char{ display:inline-block; opacity:0; }
  .quote.play .line1 .char{ animation:charInLeft .55s cubic-bezier(.2,.7,.2,1) forwards; }
  .quote.play .line2 .char{ animation:charInRight .55s cubic-bezier(.2,.7,.2,1) forwards; }
  .quote.play .char{ animation-delay: calc(var(--i) * 90ms); }
  @keyframes charInLeft { from{ transform:translateX(-16px); opacity:0 } to{ transform:none; opacity:1 } }
  @keyframes charInRight{ from{ transform:translateX(16px);  opacity:0 } to{ transform:none; opacity:1 } }

  .quote .tile-bg{
    position:absolute; inset:0; z-index:0;
    display:grid; gap:0;
    grid-template-columns:repeat(var(--cols, 9), 1fr);
    opacity:.22; filter:saturate(.9) contrast(.9);
  }
  @media (max-width:560px){ .quote .tile-bg{ --cols: 7; } }
  .quote .tile{ width:100%; aspect-ratio:1/1; object-fit:cover; display:block; margin:0; padding:0; }
  .quote .shade{ background: rgba(0,0,0,.82); }
  .quote .content{ position:relative; z-index:1; }

/* Split cover layout (as earlier) */
.cover .bg{ background-image:url('cover.jpg'); background-position:center 28%; }
.cover .content{ min-height:100vh; }
.cover .topHead{ position:absolute; top:8vh; left:50%; transform:translateX(-50%); text-align:center; }
.cover .topHead h1{ margin:0; font-size:clamp(22px,7vw,36px); letter-spacing:1.2px; font-weight:700; white-space:nowrap; }
.cover .topHead .tagline{ margin:6px 0 0; font-size:14px; opacity:.92; }
.cover .centerLogo{ position:absolute; top:44vh; left:50%; transform:translate(-50%,-50%); }
.cover .centerLogo .logo{ width:120px; height:120px; border-radius:999px; object-fit:cover; background:#000; box-shadow:0 10px 30px rgba(0,0,0,.45); }
.cover .bottomCTA{ position:absolute; bottom:6vh; left:50%; transform:translateX(-50%); text-align:center; }
.cover .bottomCTA .invitation{ margin-bottom:8px; font-size:12px; letter-spacing:2px; opacity:.85; text-transform:uppercase; }
.cover .bottomCTA .btn.enter{ font-size:18px; padding:14px 24px; position:relative; }
.cover .bottomCTA .btn.enter::after{ content:''; position:absolute; inset:-4px; border-radius:14px; border:2px solid rgba(0,160,255,.35); animation:pulse 1.6s ease-out infinite; }

</style>
</head>
<body class="is-cover">

  <!-- Header -->
  <header>
    <img class="logo" src="logo.png" alt="Logo KARTUN"/>
    <h1>KARTUN Reunion 2025</h1>
    <p>Reconnect & Relive Memories</p>
  </header>

  <div class="wrap" id="slides">
    <!-- 1) Cover -->
    <section class="slide cover active">
      <div class="bg"></div>
      <div class="shade"></div>
      <div class="content">
        <div class="topHead">
          <h1>KARTUN REUNION</h1>
          <p class="tagline">Reconnect & Relive memories</p>
        </div>
        <div class="centerLogo">
          <img class="logo" src="logo.png" alt="Logo KARTUN">
        </div>
        <div class="bottomCTA">
          <div class="invitation">Invitation</div>
          <button class="btn enter" id="enter">Enter</button>
        </div>
      </div>
    </section>

    <!-- 2) Kata-kata -->
    <section class="slide">
      <div class="bg" style="background-image:linear-gradient(135deg,#0b1730,#0b0f19);"></div>
      <div class="shade"></div>
      <div class="content" style="max-width:780px;margin:0 auto">
        <p class="reveal">Kita pernah berbagi waktu, karya, dan tawa. Hari ini kita kembali untuk menyambung yang baik, merapikan yang tertinggal, dan merayakan persaudaraan yang sama.</p>
        <p class="reveal" style="animation-delay:.08s">Waktu boleh berjalan, tapi kenangan tak pernah pudar.</p>
        <p class="reveal" style="animation-delay:.16s">Malam ini kita kembali, untuk menghidupkan lagi tawa dan cerita.</p>
        <p class="reveal" style="animation-delay:.24s"><strong>Reconnect & Relive memories.</strong></p>
        <div style="margin-top:8px">
          <button class="btn reveal" style="animation-delay:.32s" onclick="show(2)">Lanjut</button>
        </div>
      </div>
    </section>

    <!-- 3) Rundown -->
    <section class="slide">
      <div class="bg" style="background-image:linear-gradient(135deg,#0b1730,#081627);"></div>
      <div class="shade"></div>
      <div class="content">
        <h2>Rundown Singkat</h2>
        <div class="chips">
          <div class="chip"><strong>15.00</strong><br>Kedatangan & Registrasi</div>
          <div class="chip"><strong>15.30</strong><br>Sambutan & Sharing</div>
          <div class="chip"><strong>17.00</strong><br>Games & Hiburan</div>
          <div class="chip"><strong>18.00</strong><br>Makan Bersama</div>
          <div class="chip"><strong>20.00</strong><br>Penutupan & Dokumentasi</div>
        </div>
      </div>
    </section>

    <!-- 4) Countdown -->
    <section class="slide">
      <div class="bg" style="background-image:linear-gradient(135deg,#0b1730,#0b0f19);"></div>
      <div class="shade"></div>
      <div class="content">
        <h2>Countdown to Reunion<br><small>25–26 October 2025</small></h2>
        <div id="countdown" class="countdown">
          <div class="timebox"><div class="num" id="d">--</div><div class="lab">Days</div></div>
          <div class="timebox"><div class="num" id="h">--</div><div class="lab">Hours</div></div>
          <div class="timebox"><div class="num" id="m">--</div><div class="lab">Minutes</div></div>
          <div class="timebox"><div class="num" id="s">--</div><div class="lab">Seconds</div></div>
        </div>
      </div>
    </section>

    <!-- 5) Photo Wall (klik untuk perbesar) -->
    <section class="slide">
      <div class="bg" style="background-image:linear-gradient(135deg,#0b1730,#0b0f19);"></div>
      <div class="shade"></div>
      <div class="content">
        <h2>Photo Wall</h2>
        <div class="grid" id="gallery">
          <img src="wall1.jpg" alt="Photo 1" loading="lazy" decoding="async">
          <img src="wall2.jpg" alt="Photo 2" loading="lazy" decoding="async">
          <img src="wall3.jpg" alt="Photo 3" loading="lazy" decoding="async">
          <img src="wall4.jpg" alt="Photo 4" loading="lazy" decoding="async">
          <img src="wall5.jpg" alt="Photo 5" loading="lazy" decoding="async">
          <img src="wall6.jpg" alt="Photo 6" loading="lazy" decoding="async">
          <img src="wall7.jpg" alt="Photo 7" loading="lazy" decoding="async">
          <img src="wall8.jpg" alt="Photo 8" loading="lazy" decoding="async">
          <img src="wall9.jpg" alt="Photo 9" loading="lazy" decoding="async">
          <img src="wall10.jpg" alt="Photo 10" loading="lazy" decoding="async">
          <img src="wall11.jpg" alt="Photo 11" loading="lazy" decoding="async">
        </div>
      </div>
    </section>

    <!-- 6) Lokasi -->
    <section class="slide">
      <div class="bg" style="background-image:linear-gradient(135deg,#0b1730,#081627);"></div>
      <div class="shade"></div>
      <div class="content">
        <h2>Lokasi — Lady Homestay</h2>
        <p style="opacity:.92;margin-top:4px">Jl. Lurah Opa Mustopa, Tarogong Kaler, Kab. Garut</p>
        <div class="chips" style="margin:10px 0 6px">
          <a class="btn" href="https://maps.app.goo.gl/M2q5rEGgn3MYULme7" target="_blank" rel="noopener">Buka di Google Maps</a>
        </div>
        <div class="media" style="max-width:800px; margin:12px auto;">
          <iframe src="https://www.google.com/maps?q=Lady%20Homestay%20Jl.%20Lurah%20Opa%20Mustopa%20Tarogong%20Kaler%20Kab.%20Garut&output=embed" loading="lazy" style="width:100%; height:300px; border:0; border-radius:12px;"></iframe>
        </div>
      </div>
    </section>

    <!-- 7) RSVP (Form + Payment) -->
    <section class="slide" id="rsvp">
      <div class="bg" style="background-image:linear-gradient(135deg,#0b1730,#081627);"></div>
      <div class="shade"></div>
      <div class="content">
        <h2>Konfirmasi Kehadiran & Pembayaran</h2>
        <div class="form">
          <div class="row">
            <input class="input" type="text" id="name" placeholder="Nama Lengkap" required>
          </div>
<div class="rsvp-note" style="max-width:560px;margin:8px auto 0;opacity:.95;font-size:14px;text-align:left;line-height:1.5">
  <div><strong>Biaya registrasi Rp.125.000/orang</strong></div>
  <div>* sudah termasuk T‑shirt KARTUN Reunion</div>
  <div>* Makan & Snack</div>
</div>

          <div class="row">
            <input class="input" type="tel" id="phone" placeholder="Nomor WhatsApp (contoh: 62812xxxx)" required>
            <input class="input" type="number" id="guests" placeholder="Jumlah Orang" min="1" value="1" required>
          </div>
          <div class="actions">
            <button class="btn" id="submitRSVP">Kirim RSVP</button>
          </div>
        </div>

        <div class="paybox" id="payBox">
          <p class="summary">
            Terima kasih, <strong id="pName">-</strong>!<br>
            Total kontribusi: <strong id="pTotal">Rp 0</strong> untuk <span id="pGuests">0</span> orang.
          </p>
          
          <img class="qris" id="qrisImg" src="qris.png" alt="QRIS">
          <div class="chips" style="margin-top:12px;">
            <a class="btn" id="payLink" href="#" target="_blank" rel="noopener">Bayar via E‑Wallet</a>
            <a class="btn ghost" id="waLink" href="#" target="_blank" rel="noopener">Kirim Bukti via WA</a>
          </div>
        </div>
      </div>
    </section>

    <!-- 8) Quote + Tile background -->
    <section class="slide quote">
      <div class="bg" style="background-image:linear-gradient(135deg,#0b1730,#0b0f19);"></div>
      <div class="shade"></div>
      <div class="tile-bg" id="tileBg"></div>
      <div class="content" style="display:flex;align-items:center;justify-content:center;min-height:60vh">
        <div class="lines">
          <div class="line line1">"Hard times make you stronger,</div>
          <div class="line line2">True friends stay with you forever."</div>
        </div>
      </div>
    </section>
  </div>

  <footer>
    <div>
      <button class="btn ghost" id="prevBtn">Prev</button>
      <button class="btn ghost" id="nextBtn">Next</button>
      <span class="pager" id="pager">Slide 1/8</span>
    </div>
  </footer>

  <audio id="bg" loop preload="auto" playsinline>
    <source src="Reuni.mp3" type="audio/mpeg">
  </audio>

<script>
  // ---------- Core slider ----------
  const slides = document.querySelectorAll('.slide');
  const pager = document.getElementById('pager');
  let idx = 0;

  function updatePager(){ pager.textContent = `Slide ${idx+1}/${slides.length}`; }

  function setActive(i){
    slides.forEach((s, k)=> s.classList.toggle('active', k===i));
    idx = i; updatePager();
    if (idx === 0) document.body.classList.add('is-cover'); else document.body.classList.remove('is-cover');
  }

  function show(n){
    const i = (n + slides.length) % slides.length;
    setActive(i);
    if (slides[i].classList.contains('quote')) playQuote(); // trigger quote animation
  }
  window.show = show;

  // init
  setActive(0);

  // buttons
  document.getElementById('nextBtn').addEventListener('click', ()=> show(idx+1));
  document.getElementById('prevBtn').addEventListener('click', ()=> show(idx-1));

  // keyboard
  document.addEventListener('keydown', e => {
    if (e.key === 'ArrowRight') show(idx+1);
    if (e.key === 'ArrowLeft') show(idx-1);
  });

  // enter button with audio fade-in
  document.getElementById('enter').addEventListener('click', async ()=>{
    show(1);
    const bg = document.getElementById('bg');
    try {
      bg.currentTime = 0; bg.volume = 0.0;
      await bg.play();
      let v = 0.0, step = 0.06;
      const iv = setInterval(()=>{ v+=step; if(v>=1){v=1; clearInterval(iv);} bg.volume = v; }, 120);
    } catch(e){ /* ignore */ }
  });

  // countdown
  const startEvent = new Date('2025-10-25T11:00:00Z'); // 18:00 WIB
  const endEvent   = new Date('2025-10-26T00:00:00Z');
  const ids = ['d','h','m','s']; let lastVals = [null,null,null,null];
  function tick(){
    const wrap = document.getElementById('countdown'); if(!wrap) return;
    const now = new Date();
    if (now >= endEvent) { wrap.innerHTML='<p style="font-size:20px;font-weight:700;">Acara Selesai</p>'; return; }
    if (now >= startEvent) { wrap.innerHTML='<p style="font-size:20px;font-weight:700;">25 Oktober 2025 – Acara Sedang Berlangsung</p>'; return; }
    const diff = Math.max(0, startEvent-now);
    const v=[ Math.floor(diff/86400000),
              Math.floor((diff%86400000)/3600000),
              Math.floor((diff%3600000)/60000),
              Math.floor((diff%60000)/1000) ];
    v.forEach((val,i)=>{
      const el=document.getElementById(ids[i]); if(!el) return;
      if (lastVals[i]!==val){ el.textContent=String(val).padStart(2,'0'); el.classList.remove('flipAnim'); void el.offsetWidth; el.classList.add('flipAnim'); lastVals[i]=val; }
    });
  }
  setInterval(tick,1000); tick();

  // lightbox for photo wall
  const lb = document.createElement('div');
  lb.className='lightbox';
  lb.innerHTML='<img id="lightImg" alt=""><button class="close">Close</button>';
  document.body.appendChild(lb);
  const lbImg = lb.querySelector('#lightImg');
  lb.addEventListener('click', ()=> lb.classList.remove('active'));
  lb.querySelector('.close').addEventListener('click', (e)=>{ e.stopPropagation(); lb.classList.remove('active'); });
  const gallery = document.getElementById('gallery');
  if (gallery){
    gallery.addEventListener('click', e=>{
      if(e.target.tagName==='IMG'){ lbImg.src=e.target.src; lb.classList.add('active'); }
    });
  }

  // RSVP + Payment logic
  (function(){
    const perPerson = 125000; // Rp125.000 per orang
    const nameEl = document.getElementById('name');
    const phoneEl = document.getElementById('phone');
    const guestsEl = document.getElementById('guests');
    const btn = document.getElementById('submitRSVP');
    const box = document.getElementById('payBox');
    const pName = document.getElementById('pName');
    const pGuests = document.getElementById('pGuests');
    const pTotal = document.getElementById('pTotal');
    const qrisImg = document.getElementById('qrisImg');
    const payLink = document.getElementById('payLink');
    const waLink = document.getElementById('waLink');

    qrisImg?.addEventListener('error', ()=>{
      qrisImg.alt = 'QRIS belum diunggah';
      qrisImg.style.opacity = .6;
    });

    const rupiah = (n)=> new Intl.NumberFormat('id-ID',{style:'currency',currency:'IDR',maximumFractionDigits:0}).format(n);

    btn?.addEventListener('click', (e)=>{
      e.preventDefault();
      const nm = (nameEl?.value||'').trim();
      const ph = (phoneEl?.value||'').trim();
      const g  = Math.max(1, parseInt(guestsEl?.value||'1',10));
      if(!nm || !ph){ alert('Isi nama & nomor WhatsApp dulu ya.'); return; }
      const total = perPerson * g;

      pName.textContent = nm;
      pGuests.textContent = g;
      pTotal.textContent = rupiah(total);
      box.classList.add('show');

      const ewalletLink = 'https://link.dana.id/minta-bayar'; // ganti link pembayaranmu
      payLink.href = ewalletLink;

      const panitia = '6281234567890'; // ganti no WA panitia
      const msg = `Halo, saya ${nm}. RSVP untuk ${g} orang. Total kontribusi ${rupiah(total)}. Ini bukti pembayaran saya:`;
      waLink.href = `https://wa.me/${panitia}?text=${encodeURIComponent(msg)}`;

      box.scrollIntoView({behavior:'smooth', block:'center'});
    });
  })();

  // Prepare & play quote per-letter
  const quoteEl = document.querySelector('.slide.quote');
  function prepareQuote(){
    if (!quoteEl || quoteEl.dataset.prepared) return;
    quoteEl.querySelectorAll('.line').forEach(line=>{
      const t=line.textContent; line.textContent=''; let i=0;
      for(const ch of t){ const span=document.createElement('span'); span.className='char'; span.style.setProperty('--i', i++); span.textContent=(ch===' ')?'\u00A0':ch; line.appendChild(span); }
    });
    quoteEl.dataset.prepared='1';
  }
  function playQuote(){ prepareQuote(); quoteEl.classList.remove('play'); void quoteEl.offsetWidth; quoteEl.classList.add('play'); }

  // Hardtimes tile fill from gallery
  (function(){
    const tileBg = document.getElementById('tileBg');
    if(!tileBg) return;
    const gallery = document.getElementById('gallery');
    let sources = [];
    if (gallery){
      sources = Array.from(gallery.querySelectorAll('img')).map(im => im.getAttribute('src')).filter(Boolean);
    }
    if (sources.length === 0){
      sources = ['wall1.jpg','wall2.jpg','wall3.jpg','wall4.jpg','wall5.jpg','wall6.jpg','wall7.jpg','wall8.jpg','wall9.jpg','wall10.jpg','wall11.jpg'];
    }
    const totalTiles = 120;
    const frag = document.createDocumentFragment();
    for (let i=0;i<totalTiles;i++){
      const im=document.createElement('img');
      im.className='tile'; im.src=sources[i % sources.length]; im.loading='lazy';
      frag.appendChild(im);
    }
    tileBg.appendChild(frag);
  })();
</script>
</body>
</html>