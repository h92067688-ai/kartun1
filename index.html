<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>KARTUN Reunion — Reconnect & Relive Memories</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
<style>
  :root{ --bg:#0b0f19; --fg:#fff; --accent:#00a0ff; --overlay:rgba(0,0,0,.45); }
  *{ box-sizing:border-box; }
  body{ margin:0; font-family:Montserrat, Arial, sans-serif; background:var(--bg); color:var(--fg); }
  header{ padding:14px; text-align:center; border-bottom:1px solid rgba(255,255,255,.08); }
  header img.logo{ width:56px; height:56px; border-radius:10px; object-fit:cover; background:#000; }
  header h1{ margin:6px 0 2px; font-size:18px; letter-spacing:.5px; font-weight:700; }
  header p{ margin:0; opacity:.75; font-size:12px; }
  .wrap{ max-width:1080px; margin:0 auto; padding:18px; }
  .slide{ display:none; text-align:center; padding:26px; border-radius:16px; position:relative; overflow:hidden; }
  .slide.active{ display:block; animation:fade .35s ease; }
  .slide .bg{ position:absolute; inset:0; background-size:cover; background-position:center; filter:brightness(.92); }
  .slide .shade{ position:absolute; inset:0; background:var(--overlay); pointer-events:none; }
  .slide .content{ position:relative; z-index:2; }
  @keyframes fade{ from{ opacity:0; transform:translateY(6px);} to{ opacity:1; transform:none;} }
  .btn{ background:var(--accent); color:#00121f; border:none; padding:12px 18px; border-radius:12px; font-weight:700; cursor:pointer; margin:6px; }
  .btn.ghost{ background:transparent; color:var(--fg); border:1px solid rgba(255,255,255,.25); }
  footer{ display:flex; justify-content:space-between; align-items:center; gap:12px; padding:12px 20px; border-top:1px solid rgba(255,255,255,.08); position:sticky; bottom:0; background:rgba(0,0,0,.45); backdrop-filter: blur(6px); }
  .pager{ opacity:.85; font-size:13px; }
  /* Cover */
  .slide.cover{ display:none; min-height:100vh; align-items:center; justify-content:center; border-radius:0; }
  .slide.cover.active{ display:flex; }
  body.is-cover header, body.is-cover footer{ display:none; }
  .cover .inner{ text-align:center; display:flex; flex-direction:column; align-items:center; gap:10px; transform: translateY(6vh); }
  .cover h1{ margin:0; font-size:28px; letter-spacing:1.2px; }
  .cover .tagline{ margin:0; font-size:14px; opacity:.92; font-weight:500; }
  .cover img.logo{ width:120px;height:120px;border-radius:18px;object-fit:cover;background:#000; box-shadow:0 10px 30px rgba(0,0,0,.45); margin:8px 0 2px 0; }
  .cover .invitation{ margin-top:6px; font-size:12px; letter-spacing:2px; opacity:.85; text-transform:uppercase; }
  /* Enter glow */
  .btn.enter{ position:relative; }
  .btn.enter::after{ content:''; position:absolute; inset:-4px; border-radius:14px; border:2px solid rgba(0,160,255,.35); animation:pulse 1.6s ease-out infinite; }
  @keyframes pulse{ from{opacity:1; transform:scale(1);} to{opacity:0; transform:scale(1.12);} }
  /* Words reveal */
  .reveal{ opacity:0; transform: translateY(10px); }
  .slide.active .reveal{ animation:reveal .55s ease forwards; }
  @keyframes reveal{ to{ opacity:1; transform:none; } }
  /* Countdown */
  .countdown{ display:flex; gap:14px; justify-content:center; flex-wrap:wrap; margin-top:12px; }
  .timebox{ min-width:90px; background:rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.12); border-radius:14px; padding:12px; }
  .timebox .num{ font-size:26px; font-weight:700; display:inline-block; }
  .timebox .lab{ font-size:12px; opacity:.85; letter-spacing:1px; text-transform:uppercase; }
  .countdown .num.flipAnim{ animation:flip .5s; }
  @keyframes flip{ 0%{transform:rotateX(0)} 50%{transform:rotateX(90deg)} 100%{transform:rotateX(0)} }
  /* Photo wall */
  .grid{ display:grid; grid-template-columns: repeat(3, 1fr); gap:10px; margin-top:12px; }
  .grid img{ width:100%; height:120px; object-fit:cover; border-radius:12px; cursor:pointer; }
  @media (max-width:520px){
    .cover h1{ font-size:24px; }
    .cover .tagline{ font-size:13px; }
    .cover img.logo{ width:110px; height:110px; }
    .grid{ grid-template-columns: repeat(2, 1fr); }
    .grid img{ height:110px; }
  }
  /* Slide 8 blurred bg slideshow behind quote */
  .slide.quote, .slide.quote *{ position:relative; }
  .slide.quote .bg-rot-wrap{ position:absolute; inset:0; overflow:hidden; z-index:0; }
  .slide.quote .bg-rot{ position:absolute; inset:0; background-size:cover; background-position:center; filter: blur(8px) brightness(.85); opacity:0; transition:opacity 1s ease; }
  .slide.quote .bg-rot.show{ opacity:1; }
  .slide.quote .content{ position:relative; z-index:1; }

/* Layout fix for Rundown & RSVP */
.content { max-width: 900px; margin-left:auto; margin-right:auto; }
.chips{ display:flex; gap:12px; flex-wrap:wrap; justify-content:center; align-items:stretch; margin-top:10px; }
.chip{ background:rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.12); padding:12px 14px; border-radius:12px; min-width:200px; text-align:center; }
@media (max-width:560px){
  .chip{ min-width:46%; }
}


/* Cover: show full image on mobile (no crop) */
@media (max-width:560px){
  .slide.cover .bg{ background-size: contain; background-repeat:no-repeat; background-position:center top; }
  .slide.cover .shade{ background: linear-gradient(180deg, rgba(0,0,0,.35), rgba(0,0,0,.6)); }
  .cover .inner{ transform: translateY(2vh); }
}

</style>
</head>
<body class="is-cover">

  <!-- Header (hidden on cover) -->
  <header>
    <img class="logo" src="logo.png" alt="Logo KARTUN"/>
    <h1>KARTUN Reunion 2025</h1>
    <p>Reconnect & Relive Memories</p>
  </header>

  <div class="wrap" id="slides">
    <!-- Cover -->
    <section class="slide cover active">
      <div class="bg" style="background-image:url('cover.jpg');"></div>
      <div class="shade"></div>
      <div class="content">
        <div class="inner">
          <h1>KARTUN REUNION</h1>
          <p class="tagline">Reconnect & Relive memories</p>
          <img class="logo" src="logo.png" alt="Logo KARTUN">
          <div class="invitation">Invitation</div>
          <button class="btn enter" id="enter" onclick="enterApp()">Enter</button>
        </div>
      </div>
    </section>

    <!-- Slide 1: Words (tanpa judul/subjudul di box) -->
    <section class="slide">
      <div class="bg" style="background-image:linear-gradient(135deg,#0b1730,#0b0f19);"></div>
      <div class="shade"></div>
      <div class="content" style="max-width:780px;margin:0 auto">
        <p class="reveal">Kita pernah berbagi waktu, karya, dan tawa. Hari ini kita kembali untuk menyambung yang baik, merapikan yang tertinggal, dan merayakan persaudaraan yang sama.</p>
        <p class="reveal" style="animation-delay:.08s">Waktu boleh berjalan, tapi kenangan tak pernah pudar.</p>
        <p class="reveal" style="animation-delay:.16s">Malam ini kita kembali, untuk menghidupkan lagi tawa dan cerita.</p>
        <p class="reveal" style="animation-delay:.24s"><strong>Reconnect & Relive memories.</strong></p>
        <div style="margin-top:8px">
          <button class="btn reveal" style="animation-delay:.32s" onclick="show(2)">Lanjut</button>
        </div>
      </div>
    </section>

    <!-- Slide 2: Rundown -->
    <section class="slide">
      <div class="bg" style="background-image:linear-gradient(135deg,#0b1730,#081627);"></div>
      <div class="shade"></div>
      <div class="content">
        <h2>Rundown Singkat</h2>
        <div class="chips">
          <div class="chip"><strong>15.00</strong><br>Kedatangan & Registrasi</div>
          <div class="chip"><strong>15.30</strong><br>Sambutan & Sharing</div>
          <div class="chip"><strong>17.00</strong><br>Games & Hiburan</div>
          <div class="chip"><strong>18.00</strong><br>Makan Bersama</div>
          <div class="chip"><strong>20.00</strong><br>Penutupan & Dokumentasi</div>
        </div>
      </div>
    </section>

    <!-- Slide 3: Countdown -->
    <section class="slide">
      <div class="bg" style="background-image:linear-gradient(135deg,#0b1730,#0b0f19);"></div>
      <div class="shade"></div>
      <div class="content">
        <h2>Countdown to Reunion<br><small>25–26 October 2025</small></h2>
        <div id="countdown" class="countdown">
          <div class="timebox"><div class="num" id="d">--</div><div class="lab">Days</div></div>
          <div class="timebox"><div class="num" id="h">--</div><div class="lab">Hours</div></div>
          <div class="timebox"><div class="num" id="m">--</div><div class="lab">Minutes</div></div>
          <div class="timebox"><div class="num" id="s">--</div><div class="lab">Seconds</div></div>
        </div>
      </div>
    </section>

    <!-- Slide 4: Photo Wall (local images) -->
    <section class="slide">
      <div class="bg" style="background-image:linear-gradient(135deg,#0b1730,#0b0f19);"></div>
      <div class="shade"></div>
      <div class="content">
        <h2>Photo Wall</h2>
        <div class="grid" id="gallery">
          <img src="wall1.jpg" alt="Photo 1">
          <img src="wall2.jpg" alt="Photo 2">
          <img src="wall3.jpg" alt="Photo 3">
          <img src="wall4.jpg" alt="Photo 4">
          <img src="wall5.jpg" alt="Photo 5">
          <img src="wall6.jpg" alt="Photo 6">
        </div>
      </div>
    </section>

    <!-- Slide 5: Lokasi -->
    <section class="slide">
      <div class="bg" style="background-image:linear-gradient(135deg,#0b1730,#081627);"></div>
      <div class="shade"></div>
      <div class="content">
        <h2>Lokasi & Navigasi</h2>
        <p>Scan QR atau buka peta untuk navigasi.</p>
        <img class="qr" src="qr_maps.png" alt="QR Code Lokasi" style="background:#fff;padding:8px;border-radius:12px;">
        <div class="media" style="max-width:640px; margin:12px auto;">
          <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3952.0195180465833!2d110.36948987428954!3d-7.878504692127836!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2e7a57f2186b3a0d%3A0x8a82f7b0b1b6c3e2!2sBalai%20Desa!5e0!3m2!1sid!2sid!4v1691213525832!5m2!1sid!2sid" loading="lazy" style="width:100%; height:300px; border:0; border-radius:12px;"></iframe>
        </div>
      </div>
    </section>

    <!-- Slide 6: RSVP -->
    <section class="slide">
      <div class="bg" style="background-image:linear-gradient(135deg,#0b1730,#081627);"></div>
      <div class="shade"></div>
      <div class="content">
        <h2>Konfirmasi Kehadiran</h2>
        <p>Silakan RSVP agar panitia bisa menyiapkan tempat dan konsumsi dengan baik.</p>
        <div class="chips">
          <a class="btn" href="https://forms.gle/dummyRSVP" target="_blank" rel="noopener">Isi Form RSVP</a>
          <a class="btn ghost" href="https://wa.me/6281234567890" target="_blank" rel="noopener">WA Panitia</a>
        </div>
      </div>
    </section>

    <!-- Slide 7: Final Quote (dengan background slideshow blur) -->
    
    <!-- Slide 7: Final Quote with Mosaic Background (no blur, no slideshow) -->
    <section class="slide quote">
      <div class="bg" style="background-image:linear-gradient(135deg,#0b1730,#0b0f19);"></div>
      <div class="shade"></div>
      <!-- Mosaic background (behind text) -->
      <div class="mosaic-wrap" style="position:absolute;inset:0;z-index:0;display:grid;grid-template-columns:repeat(3,1fr);grid-auto-rows:1fr;gap:6px;padding:10px;">
        <img src="wall1.jpg" alt="" class="mosaic" style="width:100%;height:100%;object-fit:cover;border-radius:10px;cursor:pointer;">
        <img src="wall2.jpg" alt="" class="mosaic" style="width:100%;height:100%;object-fit:cover;border-radius:10px;cursor:pointer;">
        <img src="wall3.jpg" alt="" class="mosaic" style="width:100%;height:100%;object-fit:cover;border-radius:10px;cursor:pointer;">
        <img src="wall4.jpg" alt="" class="mosaic" style="width:100%;height:100%;object-fit:cover;border-radius:10px;cursor:pointer;">
        <img src="wall5.jpg" alt="" class="mosaic" style="width:100%;height:100%;object-fit:cover;border-radius:10px;cursor:pointer;">
        <img src="wall6.jpg" alt="" class="mosaic" style="width:100%;height:100%;object-fit:cover;border-radius:10px;cursor:pointer;">
      </div>
      <div class="content" style="display:flex;align-items:center;justify-content:center;min-height:60vh;position:relative;z-index:1">
        <div style="font-style:italic;font-weight:400;font-size:18px;line-height:1.6;opacity:.95;background:rgba(0,0,0,.35);padding:10px 14px;border-radius:10px">
          Hard times make you stronger,<br>
          True friends stay with you forever.
        </div>
      </div>
    </section>
    
  </div>

  <footer>
    <div>
      <button class="btn ghost" onclick="show(idx - 1)">Prev</button>
      <button class="btn ghost" onclick="show(idx + 1)">Next</button>
      <span class="pager" id="pager">Slide 1/7</span>
    </div>
  </footer>

  <!-- Lightbox (before script) -->
  <div id="lightbox" class="lightbox" style="position:fixed;inset:0;background:rgba(0,0,0,.92);display:none;align-items:center;justify-content:center;z-index:9999" onclick="(function(e){if(e.target.id==='lightbox'){hideLightbox();}})(event)">
    <img id="lightImg" alt="" style="max-width:92vw;max-height:86vh;border-radius:12px">
    <button class="close" onclick="hideLightbox();event.stopPropagation()" style="position:absolute;top:12px;right:12px;background:rgba(255,255,255,.12);border:1px solid rgba(255,255,255,.25);color:#fff;border-radius:10px;padding:8px 10px;cursor:pointer">Close</button>
  </div>

  <!-- Local audio -->
  <audio id="bg" loop preload="auto" playsinline>
    <source src="Reuni.mp3" type="audio/mpeg">
  </audio>

  <script>
    let idx = 0;
    const slides = document.querySelectorAll('.slide');
    const pager = document.getElementById('pager');

    function show(n){
      const total = slides.length;
      idx = (n + total) % total;
      slides.forEach((s, i) => s.classList.toggle('active', i === idx));
      if (pager) pager.textContent = `Slide ${idx+1}/${total}`;
      if (idx === 0) document.body.classList.add('is-cover');
      else document.body.classList.remove('is-cover');
    }
    show(0);

    // Enter with audio fade-in
    async function enterApp(){
      show(1);
      const bg = document.getElementById('bg');
      try {
        if (bg) {
          bg.currentTime = 0;
          bg.volume = 0.0;
          await bg.play();
          let v = 0.0;
          const step = 0.06;
          const iv = setInterval(() => {
            v += step;
            if (v >= 1) { v = 1; clearInterval(iv); }
            bg.volume = v;
          }, 120);
        }
      } catch(e) { /* ignore; tap Enter again if needed */ }
    }

    // Countdown with flip animation (start: 25 Oct 2025 18:00 WIB, end: 26 Oct 2025 07:00 WIB)
    const startEvent = new Date('2025-10-25T11:00:00Z'); // 18:00 WIB
    const endEvent   = new Date('2025-10-26T00:00:00Z');
    const ids = ['d','h','m','s'];
    let lastVals = [null,null,null,null];
    function tick(){
      const now = new Date();
      const wrap = document.getElementById('countdown');
      if (!wrap) return;
      if (now >= endEvent) {
        wrap.innerHTML = '<p style="font-size:20px;font-weight:700;">Acara Selesai</p>';
        return;
      }
      if (now >= startEvent && now < endEvent) {
        wrap.innerHTML = '<p style="font-size:20px;font-weight:700;">25 Oktober 2025 – Acara Sedang Berlangsung</p>';
        return;
      }
      const diff = Math.max(0, startEvent - now);
      const d = Math.floor(diff/86400000);
      const h = Math.floor((diff%86400000)/3600000);
      const m = Math.floor((diff%3600000)/60000);
      const s = Math.floor((diff%60000)/1000);
      const vals = [d,h,m,s];
      vals.forEach((val, i) => {
        const el = document.getElementById(ids[i]);
        if (!el) return;
        if (lastVals[i] !== val) {
          el.textContent = String(val).padStart(2,'0');
          el.classList.remove('flipAnim'); void el.offsetWidth; el.classList.add('flipAnim');
          lastVals[i] = val;
        }
      });
    }
    setInterval(tick, 1000); tick();

    // Lightbox helpers
    function showLightbox(src){
      const lb = document.getElementById('lightbox'); const img = document.getElementById('lightImg');
      if(!lb || !img) return; img.src = src; lb.style.display = 'flex';
    }
    function hideLightbox(){
      const lb = document.getElementById('lightbox'); const img = document.getElementById('lightImg');
      if(!lb || !img) return; lb.style.display = 'none'; img.src = '';
    }
    document.addEventListener('keydown', (e)=>{ if(e.key==='Escape') hideLightbox(); });

    // Delegate clicks on Photo Wall images
    document.getElementById('gallery')?.addEventListener('click', (e)=>{
      const t = e.target;
      if(t && t.tagName === 'IMG'){ showLightbox(t.src); }
    });

    // Slide 7 (quote) blurred background slideshow
    (function(){
      const A = document.getElementById('bgRotA');
      const B = document.getElementById('bgRotB');
      if(!A || !B) return;
      const imgs = ['wall1.jpg','wall2.jpg','wall3.jpg','wall4.jpg','wall5.jpg','wall6.jpg'];
      let i = 0, showA = true;
      const set = (el, src)=> el.style.backgroundImage = `url('${src}')`;
      set(A, imgs[i]);
      function next(){
        i = (i+1) % imgs.length;
        if(showA){ set(B, imgs[i]); B.classList.add('show'); A.classList.remove('show'); }
        else     { set(A, imgs[i]); A.classList.add('show'); B.classList.remove('show'); }
        showA = !showA;
      }
      setInterval(next, 5000);
      [A,B].forEach(el => el.addEventListener('click', ()=>{
        const src = (showA ? B : A).style.backgroundImage || A.style.backgroundImage;
        const clean = (src || '').slice(5, -2); // remove url("...")
        if(clean) showLightbox(clean);
      }));
    })();
  
// Enable click on mosaic images (slide 8) to open lightbox
document.addEventListener('click', (e)=>{
  const t = e.target;
  if(t && t.classList && t.classList.contains('mosaic')){
    showLightbox(t.src);
  }
});

</script>
</body>
</html>
